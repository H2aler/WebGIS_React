*{margin:0;padding:0;box-sizing:border-box}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#667eea,#764ba2);min-height:100vh;color:#333}html,body,.header,.sidebar,.info-panel,.tools-panel,.measurement-panel,.legend-panel,.favorites-panel,.help-panel,.search-results,.search-result-item,.measurement-result,.toast,.route-choice,.control-btn,.tool-btn,.inline-btn{transition:background-color .25s ease,color .25s ease,border-color .25s ease,box-shadow .25s ease}:root[data-theme=dark] body{background:#0f172a;color:#e2e8f0}:root[data-theme=dark] .header,:root[data-theme=dark] .sidebar,:root[data-theme=dark] .info-panel,:root[data-theme=dark] .tools-panel,:root[data-theme=dark] .measurement-panel,:root[data-theme=dark] .legend-panel,:root[data-theme=dark] .favorites-panel{background:#111827!important;color:#e5e7eb!important}:root[data-theme=dark] h3,:root[data-theme=dark] h4{color:#e5e7eb}:root[data-theme=dark] .legend-panel span,:root[data-theme=dark] .favorites-list .favorite-name,:root[data-theme=dark] .history-list .history-query{color:#e2e8f0}:root[data-theme=dark] .history-list .history-info,:root[data-theme=dark] .route-choice-hint,:root[data-theme=dark] .results-meta{color:#94a3b8}:root[data-theme=dark] .search-input{background:#0b1220;border-color:#334155;color:#e2e8f0}:root[data-theme=dark] .search-input::placeholder{color:#94a3b8}:root[data-theme=dark] .search-btn{background:#3758f9}:root[data-theme=dark] .control-btn{background:#1f2937;color:#e2e8f0;border:1px solid #334155}:root[data-theme=dark] .control-btn:hover{background:#273449}:root[data-theme=dark] .tool-btn{background:linear-gradient(135deg,#243b6b,#2b2f77)}:root[data-theme=dark] .inline-btn{background:#0b1220;color:#e2e8f0;border:1px solid #334155}:root[data-theme=dark] .favorite-btn{background:#f3b61f;color:#111827}:root[data-theme=dark] .smart-measure-btn{background:#22c55e!important;color:#0b1220!important}:root[data-theme=dark] .search-results{background:#0b1220;border-color:#334155}:root[data-theme=dark] .search-result-item{background:transparent;border-bottom-color:#1f2937}:root[data-theme=dark] .search-result-item:hover{background:#1e293b!important;color:#e2e8f0!important}:root[data-theme=dark] .search-result-name{color:#dbeafe}:root[data-theme=dark] .search-result-details{color:#94a3b8}:root[data-theme=dark] .measurement-result{background:#0b1220}:root[data-theme=dark] .measurement-item{background:#0b1220;border-left-color:#3758f9}:root[data-theme=dark] .measurement-text{color:#e2e8f0}:root[data-theme=dark] .coordinates{background:#0009}:root[data-theme=dark] .toast{background:#0f172ae6}:root[data-theme=dark] .route-choice-title{color:#e5e7eb}:root[data-theme=dark] .route-choice-meta{color:#cbd5e1}:root[data-theme=dark] a{color:#93c5fd}:root[data-theme=dark] a:hover{color:#bfdbfe}:root[data-theme=dark] ::selection{background:#334155;color:#e5e7eb}:root[data-theme=dark] .tool-btn:focus,:root[data-theme=dark] .inline-btn:focus,:root[data-theme=dark] .favorite-btn:focus,:root[data-theme=dark] .smart-measure-btn:focus,:root[data-theme=dark] .remove-favorite-btn:focus{outline:2px solid #60a5fa;outline-offset:2px;box-shadow:0 0 0 3px #60a5fa40}:root[data-theme=dark] .autocomplete-suggestions{background:#0b1220;border:1px solid #1f2937}:root[data-theme=dark] .autocomplete-item{color:#e2e8f0}:root[data-theme=dark] .autocomplete-item:hover,:root[data-theme=dark] .autocomplete-item.active{background:#1e293b;color:#f8fafc}:root[data-theme=dark] .search-result-item.active{background:#0f172a;color:#f1f5f9}:root[data-theme=dark] *::-webkit-scrollbar{width:10px;height:10px}:root[data-theme=dark] *::-webkit-scrollbar-track{background:#0b1220}:root[data-theme=dark] *::-webkit-scrollbar-thumb{background:#334155;border-radius:6px}:root[data-theme=dark] *::-webkit-scrollbar-thumb:hover{background:#475569}:root[data-theme=dark] .inline-btn[disabled],:root[data-theme=dark] .tool-btn[disabled]{background:#0b1220;border-color:#334155;color:#64748b;opacity:.7;cursor:not-allowed}:root[data-theme=dark] .coordinates{color:#e5e7eb}:root[data-theme=dark] .segment-badge,:root[data-theme=dark] .measure-badge{background:#1e293be6;color:#e2e8f0;border:1px solid #334155}:root[data-theme=dark] .results-header{color:#e5e7eb}:root[data-theme=dark] .help-table th{color:#e5e7eb;border-bottom:1px solid #334155}:root[data-theme=dark] .help-table td{color:#cbd5e1;border-bottom:1px solid #1f2937}.info-list{margin:8px 0 10px;padding-left:18px}.info-list li{margin:4px 0;color:#374151}.info-badges{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.badge{font-size:12px;padding:4px 8px;border-radius:999px;background:#eef2ff;color:#1f2937;border:1px solid #e5e7eb}:root[data-theme=dark] .info-list li{color:#cbd5e1}:root[data-theme=dark] .badge{background:#0b1220;color:#e2e8f0;border:1px solid #334155}:root[data-theme=dark] .search-results{background:#0b1220;border-color:#1f2937}:root[data-theme=dark] .search-result-item{background:transparent}:root[data-theme=dark] .results-header{background:#0b1220;border-color:#1f2937}.container{display:flex;flex-direction:column;height:100vh}.header{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:1rem 2rem;box-shadow:0 2px 20px #0000001a;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem;position:relative;z-index:9999}.header h1{color:#2c3e50;font-size:1.8rem;font-weight:700;margin:0}.search-container{position:relative;flex:1;max-width:400px;margin:0 1rem;z-index:9999}.theme-toggle{position:absolute;right:3.2rem;top:50%;transform:translateY(-50%);background:#fff;color:#333;border:2px solid #e0e0e0;border-radius:50%;width:2.5rem;height:2.5rem;cursor:pointer;transition:all .3s ease;font-size:1.1rem}.theme-toggle:hover{transform:translateY(-50%) scale(1.1)}.search-input{width:100%;padding:.8rem 3rem .8rem 1rem;border:2px solid #e0e0e0;border-radius:25px;font-size:1rem;outline:none;transition:all .3s ease;background:#fff}.search-input:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a}.search-btn{position:absolute;right:.5rem;top:50%;transform:translateY(-50%);background:#667eea;color:#fff;border:none;border-radius:50%;width:2.5rem;height:2.5rem;cursor:pointer;transition:all .3s ease;font-size:1.2rem}.search-btn:hover{background:#5a6fd8;transform:translateY(-50%) scale(1.1)}.search-results{position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #e0e0e0;border-radius:8px;box-shadow:0 8px 32px #0003;max-height:300px;overflow-y:auto;z-index:9999;display:none;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.search-results.show{display:block}.search-results .results-header{display:flex;align-items:center;justify-content:space-between;padding:.6rem .8rem;border-bottom:1px solid #eee;background:#fafafa;position:sticky;top:0}.results-meta{color:#666;font-size:.85rem}.results-actions{display:flex;gap:.4rem}.results-actions button{background:#f1f3f5;border:1px solid #dee2e6;border-radius:6px;padding:.2rem .5rem;cursor:pointer}.search-result-item{display:flex;align-items:center;justify-content:space-between;gap:.5rem;padding:.8rem 1rem;cursor:pointer;border-bottom:1px solid #f0f0f0;transition:all .2s ease;background:#fffffff2}.search-result-item:hover{background-color:#667eea;color:#fff}.search-result-item.active,.search-result-item.active .search-result-name,.search-result-item.active .search-result-details{background:#e9f5ff;color:#1b5ebd}.search-result-item:hover .search-result-name,.search-result-item:hover .search-result-details{color:#fff}.search-result-item:last-child{border-bottom:none}.search-result-name{font-weight:600;color:#2c3e50;margin-bottom:.2rem;transition:color .2s ease}.search-result-details{font-size:.85rem;color:#666;transition:color .2s ease}.search-result-actions{display:flex;gap:.4rem}.favorite-btn{background:#ffc107;color:#212529;border:none;padding:.4rem .6rem;border-radius:6px;cursor:pointer}.smart-measure-btn{background:#28a745;color:#fff;border:none;padding:.4rem .6rem;border-radius:6px;cursor:pointer}.favorites-panel{margin-bottom:2rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000000d}.favorites-list .favorite-item{display:flex;align-items:center;justify-content:space-between;padding:.5rem .3rem;border-bottom:1px solid #f0f0f0}.favorites-list .favorite-name{font-weight:500}.favorites-list .remove-favorite{background:#dc3545;color:#fff;border:none;border-radius:50%;width:1.5rem;height:1.5rem;cursor:pointer}.search-result-item.loading{text-align:center;color:#667eea;font-weight:500}.search-result-item.error{text-align:center;color:#e74c3c;font-weight:500}.search-result-item.no-results{text-align:center;color:#666;font-style:italic}.controls{display:flex;gap:.5rem;align-items:center}.control-btn{background:#667eea;color:#fff;border:none;border-radius:8px;padding:.6rem;cursor:pointer;transition:all .3s ease;font-size:1.2rem;min-width:2.5rem;height:2.5rem;display:flex;align-items:center;justify-content:center}.control-btn:hover{background:#5a6fd8;transform:translateY(-2px);box-shadow:0 4px 12px #667eea4d}.toast-container{position:fixed;right:1rem;bottom:1rem;display:flex;flex-direction:column;gap:.5rem;z-index:99999}.toast{background:#000c;color:#fff;padding:.6rem .8rem;border-radius:8px;font-size:.9rem;box-shadow:0 2px 10px #0000004d;animation:fadeIn .2s ease-out}select{padding:.6rem 1rem;border:2px solid #e0e0e0;border-radius:8px;background:#fff;cursor:pointer;font-size:.9rem;outline:none;transition:border-color .3s ease}select:focus{border-color:#667eea}.main-content{display:flex;flex:1;overflow:hidden}.map-container{flex:1;position:relative;background:#f0f0f0}.map{width:100%;height:100%}.coordinates{position:absolute;bottom:1rem;left:1rem;background:#000000b3;color:#fff;padding:.5rem 1rem;border-radius:20px;font-size:.9rem;z-index:1000}.route-choice{position:fixed;top:0;left:0;transform:none;background:#fffffff2;border:1px solid #e0e0e0;border-radius:12px;padding:.6rem .8rem;box-shadow:0 8px 24px #00000026;z-index:10050}.route-choice-title{font-weight:600;margin-bottom:.4rem}.route-choice-actions{display:flex;gap:.4rem;justify-content:center}:root[data-theme=dark] .route-choice{background:#111827;color:#e5e7eb;border-color:#1f2937}.route-choice-meta{font-size:.85rem;color:#555;margin-bottom:.4rem;text-align:center}.route-choice-hint{font-size:.8rem;color:#888;text-align:center;margin-top:.2rem}.sidebar{width:350px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:1.5rem;overflow-y:auto;box-shadow:-2px 0 20px #0000001a}.sidebar h3{color:#2c3e50;margin-bottom:1rem;font-size:1.2rem;border-bottom:2px solid #667eea;padding-bottom:.5rem}.info-panel,.tools-panel,.measurement-panel,.legend-panel{margin-bottom:2rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000000d}.measure-settings{display:flex;flex-direction:column;gap:.6rem}.measure-settings .setting-item{display:flex;align-items:center;gap:.5rem}.measure-settings .setting-actions{display:flex;gap:.5rem}.info-panel p{margin-bottom:.5rem;color:#666;line-height:1.5}.tool-btn{width:100%;padding:.8rem 1rem;margin-bottom:.5rem;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;cursor:pointer;transition:all .3s ease;font-size:1rem;font-weight:500}.tool-btn:hover{transform:translateY(-2px);box-shadow:0 4px 15px #667eea66}.tool-btn.active{background:linear-gradient(135deg,#00b894,#00a085);box-shadow:0 4px 15px #00b89466}.tool-btn:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.measurement-result{max-height:300px;overflow-y:auto;padding:.5rem;background:#f8f9fa;border-radius:8px;font-size:.9rem;line-height:1.4}.panel-highlight{animation:panelPulse 1.2s ease-out 1;box-shadow:0 0 0 3px #667eea40 inset}@keyframes panelPulse{0%{box-shadow:0 0 0 6px #667eea59 inset}60%{box-shadow:0 0 0 2px #667eea26 inset}to{box-shadow:none}}.measure-actions{display:flex;gap:.5rem;margin-top:.5rem}.inline-btn{background:#f1f3f5;color:#333;border:1px solid #dee2e6;border-radius:6px;padding:.4rem .6rem;cursor:pointer}.measure-history-panel{margin-top:1rem}.measure-history-list .measurement-item{border-left-color:#28a745}.measurement-list{list-style:none;padding:0}.measurement-item{display:flex;justify-content:space-between;align-items:center;padding:.5rem;margin-bottom:.5rem;background:#fff;border-radius:6px;border-left:4px solid #667eea}.help-panel{margin-bottom:2rem;padding:1rem;background:#fff;border-radius:12px;box-shadow:0 2px 10px #0000000d}.help-panel h4{margin:.6rem 0 .3rem;color:#2c3e50}.help-section ul{margin-left:1rem;margin-bottom:.5rem}.help-table td:first-child{width:110px;color:#555}.help-table td{padding:2px 6px}:root[data-theme=dark] .help-panel{background:#111827!important;color:#e5e7eb!important}.measurement-text{flex:1;font-weight:500}.remove-measurement{background:#e74c3c;color:#fff;border:none;border-radius:50%;width:1.5rem;height:1.5rem;cursor:pointer;font-size:.8rem;transition:all .2s ease}.remove-measurement:hover{background:#c0392b;transform:scale(1.1)}.legend-item{display:flex;align-items:center;margin-bottom:.5rem}.legend-color{width:20px;height:20px;border-radius:50%;margin-right:.5rem;border:2px solid white;box-shadow:0 2px 4px #0003}.distance-color{background:#0f0}.area-color{background:#ff6b6b}.marker-color{background:#f39c12}.measurement-guide{background:linear-gradient(135deg,#74b9ff,#0984e3);color:#fff;padding:1rem;border-radius:8px;text-align:center;font-weight:500;box-shadow:0 2px 10px #74b9ff4d;animation:pulse 2s infinite}.measurement-success{background:linear-gradient(135deg,#00b894,#00a085);color:#fff;padding:1rem;border-radius:8px;text-align:center;font-weight:500;box-shadow:0 2px 10px #00b8944d;animation:fadeIn .5s ease-out}@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.header{flex-direction:column;padding:1rem}.search-container{max-width:100%;margin:0;z-index:9999}.search-results{max-height:250px;box-shadow:0 4px 20px #00000040}.main-content{flex-direction:column}.sidebar{width:100%;max-height:300px}.controls{flex-wrap:wrap;justify-content:center}}:root,:host{--ol-background-color: white;--ol-accent-background-color: #F5F5F5;--ol-subtle-background-color: rgba(128, 128, 128, .25);--ol-partial-background-color: rgba(255, 255, 255, .75);--ol-foreground-color: #333333;--ol-subtle-foreground-color: #666666;--ol-brand-color: #00AAFF}.ol-box{box-sizing:border-box;border-radius:2px;border:1.5px solid var(--ol-background-color);background-color:var(--ol-partial-background-color)}.ol-mouse-position{top:8px;right:8px;position:absolute}.ol-scale-line{background:var(--ol-partial-background-color);border-radius:4px;bottom:8px;left:8px;padding:2px;position:absolute}.ol-scale-line-inner{border:1px solid var(--ol-subtle-foreground-color);border-top:none;color:var(--ol-foreground-color);font-size:10px;text-align:center;margin:1px;will-change:contents,width;transition:all .25s}.ol-scale-bar{position:absolute;bottom:8px;left:8px}.ol-scale-bar-inner{display:flex}.ol-scale-step-marker{width:1px;height:15px;background-color:var(--ol-foreground-color);float:right;z-index:10}.ol-scale-step-text{position:absolute;bottom:-5px;font-size:10px;z-index:11;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-text{position:absolute;font-size:12px;text-align:center;bottom:25px;color:var(--ol-foreground-color);text-shadow:-1.5px 0 var(--ol-partial-background-color),0 1.5px var(--ol-partial-background-color),1.5px 0 var(--ol-partial-background-color),0 -1.5px var(--ol-partial-background-color)}.ol-scale-singlebar{position:relative;height:10px;z-index:9;box-sizing:border-box;border:1px solid var(--ol-foreground-color)}.ol-scale-singlebar-even{background-color:var(--ol-subtle-foreground-color)}.ol-scale-singlebar-odd{background-color:var(--ol-background-color)}.ol-unsupported{display:none}.ol-viewport,.ol-unselectable{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.ol-viewport canvas{all:unset;overflow:hidden}.ol-viewport{touch-action:pan-x pan-y}.ol-selectable{-webkit-touch-callout:default;-webkit-user-select:text;-moz-user-select:text;user-select:text}.ol-grabbing{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.ol-grab{cursor:move;cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.ol-control{position:absolute;background-color:var(--ol-subtle-background-color);border-radius:4px}.ol-zoom{top:.5em;left:.5em}.ol-rotate{top:.5em;right:.5em;transition:opacity .25s linear,visibility 0s linear}.ol-rotate.ol-hidden{opacity:0;visibility:hidden;transition:opacity .25s linear,visibility 0s linear .25s}.ol-zoom-extent{top:4.643em;left:.5em}.ol-full-screen{right:.5em;top:.5em}.ol-control button{display:block;margin:1px;padding:0;color:var(--ol-subtle-foreground-color);font-weight:700;text-decoration:none;font-size:inherit;text-align:center;height:1.375em;width:1.375em;line-height:.4em;background-color:var(--ol-background-color);border:none;border-radius:2px}.ol-control button::-moz-focus-inner{border:none;padding:0}.ol-zoom-extent button{line-height:1.4em}.ol-compass{display:block;font-weight:400;will-change:transform}.ol-touch .ol-control button{font-size:1.5em}.ol-touch .ol-zoom-extent{top:5.5em}.ol-control button:hover,.ol-control button:focus{text-decoration:none;outline:1px solid var(--ol-subtle-foreground-color);color:var(--ol-foreground-color)}.ol-zoom .ol-zoom-in{border-radius:2px 2px 0 0}.ol-zoom .ol-zoom-out{border-radius:0 0 2px 2px}.ol-attribution{text-align:right;bottom:.5em;right:.5em;max-width:calc(100% - 1.3em);display:flex;flex-flow:row-reverse;align-items:center}.ol-attribution a{color:var(--ol-subtle-foreground-color);text-decoration:none}.ol-attribution ul{margin:0;padding:1px .5em;color:var(--ol-foreground-color);text-shadow:0 0 2px var(--ol-background-color);font-size:12px}.ol-attribution li{display:inline;list-style:none}.ol-attribution li:not(:last-child):after{content:" "}.ol-attribution img{max-height:2em;max-width:inherit;vertical-align:middle}.ol-attribution button{flex-shrink:0}.ol-attribution.ol-collapsed ul{display:none}.ol-attribution:not(.ol-collapsed){background:var(--ol-partial-background-color)}.ol-attribution.ol-uncollapsible{bottom:0;right:0;border-radius:4px 0 0}.ol-attribution.ol-uncollapsible img{margin-top:-.2em;max-height:1.6em}.ol-attribution.ol-uncollapsible button{display:none}.ol-zoomslider{top:4.5em;left:.5em;height:200px}.ol-zoomslider button{position:relative;height:10px}.ol-touch .ol-zoomslider{top:5.5em}.ol-overviewmap{left:.5em;bottom:.5em}.ol-overviewmap.ol-uncollapsible{bottom:0;left:0;border-radius:0 4px 0 0}.ol-overviewmap .ol-overviewmap-map,.ol-overviewmap button{display:block}.ol-overviewmap .ol-overviewmap-map{border:1px solid var(--ol-subtle-foreground-color);height:150px;width:150px}.ol-overviewmap:not(.ol-collapsed) button{bottom:0;left:0;position:absolute}.ol-overviewmap.ol-collapsed .ol-overviewmap-map,.ol-overviewmap.ol-uncollapsible button{display:none}.ol-overviewmap:not(.ol-collapsed){background:var(--ol-subtle-background-color)}.ol-overviewmap-box{border:1.5px dotted var(--ol-subtle-foreground-color)}.ol-overviewmap .ol-overviewmap-box:hover{cursor:move}
